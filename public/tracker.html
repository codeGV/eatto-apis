<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF 8">
    <title>Tracker</title>
</head>

<body>
    <p>gjgygiygygygg</p>
    <script src="/socket.io/socket.io.js"></script>
    <script>
                    
             const socket = io('/')
            const positionOptions = {
                enableHighAccuracy: true,
                maximumAge: 0
            }
            setInterval(() => {
                console.log('tick')

                navigator.geolocation.getCurrentPosition(pos => {
                    const {
                        latitude: lat,
                        longitude: lng
                    } = pos.coords
                    socket.emit('updateLocation', {
                        lat,
                        lng
                    })
                }, err => {
                    console.error(err)
                }, positionOptions)
            }, 2000)
        document.addEventListener('DomContentloaded', () => {
            console.log('got pong')

         
        })
    </script>
</body>

</html>